!function(e){function t(t){for(var o,r,s=t[0],l=t[1],c=t[2],f=0,d=[];f<s.length;f++)r=s[f],i[r]&&d.push(i[r][0]),i[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);d.length;)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},i={0:0},a=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([25,1]),n()}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.on=function(t,n){e.sender.addEventListener(t,function(e){n(e.detail)})},e.emit=function(t,n){var o=new CustomEvent(t,{detail:n});e.sender.dispatchEvent(o)},e.ROLE_MOVE="role move",e.ROLE_WAIT="role wait",e.ROLE_FALL="role fall",e.ROLE_DIE="role die",e.SOUND_PLAY="sound play",e.SOUND_STOP="sound stop",e.GAME_SCORE="game score",e.GAME_OVER="game over",e.GAME_START="game start",e.GAME_REVIVE="game revive",e.POP_SHOW="pop show",e.POP_HIDE="pop hide",e.SHOW_LEADER="show leader",e.HIDE_LEADER="hide leader",e.SHOW_SHARE="show share",e.SHOW_GAME="show game",e.HIDE_GAME="hide game",e.STOP_GROW="stop grow",e.ADD_SHADOW="add shadow",e.CHANGE_CAMERA="change camera",e.MOVE_CAMERA="move camera",e.SHOW_REFLUX="show reflux",e.HIDE_REFLUX="hide reflux",e.SHOW_RECORD="show record",e.HIDE_RECORD="hide record",e.INIT_GAME="init game",e.LOAD_MESH="load mesh",e.sender=document.getElementById("event"),e}();t.default=o},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.getMeshSize=function(e){var t=e.getBoundingInfo().boundingBox.vectorsWorld,n=Number(t[1].x-t[0].x),o=Number(t[1].y-t[0].y),i=Number(t[1].z-t[0].z);return new BABYLON.Vector3(n,o,i)},e.subPosition=function(e,t){return new BABYLON.Vector3(e.x-t.x,e.y-t.y,e.z-t.z)},e.addPosition=function(e,t){return new BABYLON.Vector3(e.x+t.x,e.y+t.y,e.z+t.z)},e.getCenterPosition=function(e,t){return new BABYLON.Vector3((e.x+t.x)/2,(e.y+t.y)/2,(e.z+t.z)/2)},e.animateFloat=function(e,t,n,o,i,a,r){var s=new BABYLON.Animation("animation",n,60,BABYLON.Animation.ANIMATIONTYPE_FLOAT),l=[];return l.push({frame:0,value:i}),l.push({frame:o,value:a}),s.setKeys(l),e.beginDirectAnimation(t,[s],0,o,!1,1,function(){r&&r()}),s},e.animateVector3=function(e,t,n,o,i,a,r){var s=new BABYLON.Animation("animation",n,60,BABYLON.Animation.ANIMATIONTYPE_VECTOR3),l=[];return l.push({frame:0,value:i}),l.push({frame:o,value:a}),s.setKeys(l),e.beginDirectAnimation(t,[s],0,o,!1,1,function(){r&&r()}),s},e}();t.Tooler=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(2),r=(o=a)&&o.__esModule?o:{default:o};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.close=function(){n.props.onClose(0)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),i(t,[{key:"render",value:function(){return r.default.createElement("div",{onClick:this.close})}}]),t}();t.default=s},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.PATH_ASSET=window.CUSTOM.meshPath,e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=function(){function e(e){this._scene=e,this._growSod=new BABYLON.Sound("growSod",o.default.PATH_ASSET+"sod/daqiao.mp3",this._scene,null,{loop:8}),this._dieSod=new BABYLON.Sound("dieSod",o.default.PATH_ASSET+"sod/die.mp3",this._scene),this._fallSod=new BABYLON.Sound("fallSod",o.default.PATH_ASSET+"sod/luodi.mp3",this._scene),this._walkSod=new BABYLON.Sound("walkSod",o.default.PATH_ASSET+"sod/walk2.mp3",this._scene),this._scoreSod=new BABYLON.Sound("scoreSod",o.default.PATH_ASSET+"sod/score2.mp3",this._scene)}return e.prototype.play=function(t){switch(t){case e.GROW:this._growSod.play();break;case e.DIE:this._dieSod.play();break;case e.FALL:this._fallSod.play();break;case e.WALK:this._walkSod.play();break;case e.SCORE:this._scoreSod.play()}},e.prototype.stop=function(t){switch(t){case e.GROW:this._growSod.stop();break;case e.DIE:this._dieSod.stop();break;case e.FALL:this._fallSod.stop();break;case e.WALK:this._walkSod.stop();break;case e.SCORE:this._scoreSod.stop()}},e.GROW="grow",e.DIE="die",e.FALL="fall",e.WALK="walk",e.SCORE="score",e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpPost=t.httpGet=void 0;var o=a(n(27)),i=a(n(45));function a(e){return e&&e.__esModule?e:{default:e}}var r=window.CUSTOM&&window.CUSTOM.noServer;o.default.defaults.headers.common.token="jsz",o.default.interceptors.request.use(function(e){var t,n;return r&&(e.url=(t=e.url,1==(n=t.split("?")).length?t+".json":n.shift()+".json?"+n.join("?"))),console.log("before:"+e.url),e.url=window.CUSTOM.mockPath+e.url,console.log("after:"+e.url),e},function(e){return Promise.error(e)});var s=t.httpGet=function(e,t,n){return new Promise(function(n,a){(0,o.default)({method:"get",url:e,params:t,paramsSerializer:function(e){return i.default.stringify(e,{arrayFormat:"repeat"})}}).then(function(e){n(e)}).catch(function(e){console.error(e),a(e)})})};t.httpPost=function(e,t,n){return r?s(e,t,n):new Promise(function(i,a){(0,o.default)({method:"post",url:e,data:t,headers:{"content-type":n&&n.isForm?"application/x-www-form-urlencoded":"application/json"}}).then(function(e){i(e.data)}).catch(function(e){console.error(e),a(e)})})}},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(56),a=n(7),r=n(0),s=function(){function e(e){this._height=0,this._add=.6,this._timer=0,this._offsetY=1,this._width=2,this._running=!1,this._scene=e,this._instance=BABYLON.MeshBuilder.CreateBox("bar",{size:1},e);var t=new BABYLON.StandardMaterial("mat",this._scene);t.diffuseColor=BABYLON.Color3.FromHexString("#FFFFFF"),this._instance.material=t,this._instance.setPivotPoint(new BABYLON.Vector3(0,-.5,.5)),this._instance.scaling.set(this._width,1,.1),this._instance.receiveShadows=!0,r.default.emit(r.default.ADD_SHADOW,this._instance),this._draw=new i.Draw(e)}return e.prototype.startGrow=function(){var e=this;this._timer=window.setInterval(function(){e._height+=e._add,e._instance.scaling.y=e._height,e._height>e._distance+6&&e.stopGrow()},30),this._running=!0},e.prototype.fall=function(){},e.prototype.getDistance=function(){return this._height},e.prototype.stopGrow=function(){if(0!=this._running){this._running=!1,clearInterval(this._timer),this._draw.hide();o.Tooler.animateFloat(this._scene,this._instance,"rotation.x",20,0,Math.PI/2,function(){r.default.emit(r.default.SOUND_PLAY,{key:a.default.SCORE}),r.default.emit(r.default.STOP_GROW,{})});r.default.emit(r.default.SOUND_PLAY,{key:a.default.FALL})}},e.prototype.reset=function(){this._draw.reset(),this._height=0,this._instance.scaling.y=0,this._instance.rotation.x=0},e.prototype.guider=function(t,n,o,i){this._distance=o;var a=0,r=0;0==n?r=e.barSpace:a=-1*e.barSpace,i?(this._draw.show(o,this._width),this._draw.setRotate(n),this._draw.setPosition(t.x+a,this._offsetY,t.z+r)):this._draw.hide(),this._instance.rotation.x=0,this._instance.rotation.y=n,console.log("rotation = "+n),this._instance.position.set(t.x+a,this._offsetY,t.z+r),this._height=0},e.prototype.hide=function(){this._instance.position.set(100,0,0),this._draw.hide()},e.barSpace=3,e}();t.Bar=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(6),a=n(0),r=function(){function e(){}return e.init=function(t){e.floorMat1=e.getFloordMaterial(t,"#5995e4"),e.floorMat2=e.getFloordMaterial(t,"#d5398f"),e.floorMat3=e.getFloordMaterial(t,"#9ec14f")},e.getFloordMaterial=function(e,t){var n=new BABYLON.StandardMaterial("outside_mat",e);return n.emissiveColor=BABYLON.Color3.FromHexString("#000000"),n.diffuseColor=BABYLON.Color3.FromHexString(t),n.freeze(),n},e.getFloor=function(t){var n;return e.list.length>e.max&&(n=e.list.shift()),n||((n=e.instance.clone("floor",null)).receiveShadows=!0,a.default.emit(a.default.ADD_SHADOW,n)),n.isEnabled(!0),e.setColor(n,t),e.list.push(n),n},e.setColor=function(t,n){e.floorMat1||e.init(n);var o=t.getChildMeshes()[0],i=Math.random();o.material=i<.36?e.floorMat1:i<.72?e.floorMat2:e.floorMat3},e.hideFloors=function(){e.list.forEach(function(e){e.position.set(100,0,0)})},e.loadMesh=function(t,n){BABYLON.SceneLoader.ImportMesh("",i.default.PATH_ASSET+"mesh/","SampleScene.babylon",t,function(r,s,l){var c=r[3].clone("clone",null),u=c.getChildMeshes()[0],f=new BABYLON.StandardMaterial("outside_mat",t);f.ambientColor=new BABYLON.Color3(.5,.5,1),f.emissiveColor=new BABYLON.Color3(.4,0,.2),f.diffuseColor=new BABYLON.Color3(0,1,1),u.material=f;var d=c.getChildMeshes()[1],h=new BABYLON.StandardMaterial("mat1",t);h.diffuseTexture=new BABYLON.Texture(i.default.PATH_ASSET+"mesh/bock.png",t),h.ambientColor=new BABYLON.Color3(.7,.7,.7),d.material=h,u.receiveShadows=!0,d.receiveShadows=!0,a.default.emit(a.default.ADD_SHADOW,u),a.default.emit(a.default.ADD_SHADOW,d),a.default.emit(a.default.ADD_SHADOW,c),a.default.emit(a.default.LOAD_MESH,null);var _=o.Tooler.getMeshSize(u);u.position.y=-_.y/2;var m=o.Tooler.getMeshSize(d);d.position.y=-m.y/2+d.position.y/2-.132,c.scaling.set(3.6,3.6,3.6),c.rotation.set(0,Math.PI/2,0),c.position.set(0,0,0),t.removeMesh(c,!0),c.isVisible=!1,c.isEnabled(!1);for(var p=0;p<r.length;p++)r[p].isVisible=!1,t.removeMesh(r[p],!0),r[p].isEnabled(!1);e.instance=c,n()},function(e){})},e.list=[],e.max=10,e}();t.default=r},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(2)),a=r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={num:1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"Loading"},i.default.createElement("div",{className:"gif"}))}}]),t}();t.default=s},function(e,t,n){e.exports=n(26)},function(e,t,n){"use strict";n(8);n(48),n(49),n(50),n(62)},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(8);window.GAME={tool:{getParamUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[void 0,""])[1].replace(/\+/g,"%20"))||null;return n||""},hpGet:function(e,t,n){(0,o.httpGet)(e,t).then(function(e){n(e)})},hpPost:function(e,t,n){(0,o.httpPost)(e,t).then(function(e){n(e)})},createUUID:function(e){for(var t=[],n=0;n<e;n++){var o=Math.floor(10*Math.random());t.push(o)}return t.join("")}}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(51),n(52);var o=n(53),i=n(0),a=null;i.default.on(i.default.INIT_GAME,function(){null==a&&((a=new o.Game("renderCanvas")).createScene(),a.animate())})},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=n(54),a=n(0),r=n(55),s=n(21),l=n(61),c=n(3),u=function(){function e(e){this._canvas=document.getElementById(e),this._engine=new o.Engine(this._canvas,!0,{},!0)}return e.prototype.createScene=function(){this._scene=new o.Scene(this._engine),this._scene.shadowsEnabled=!0,this._scene.clearColor=new o.Color4(0,0,0,1e-16),this._cameraFollow=new l.CameraFollow(this._scene,this._canvas);var e=new o.DirectionalLight("dir01",o.Vector3.Up(),this._scene);e.position=new o.Vector3(-20,40,-20),e.setDirectionToTarget(o.Vector3.Zero()),e.intensity=.8;var t=new o.HemisphericLight("hemisphericLight1",new o.Vector3(1,-1,-1),this._scene);t.diffuse=o.Color3.FromHexString("#FFFFFF"),t.specular=o.Color3.FromHexString("#FFFFFF"),t.groundColor=o.Color3.FromHexString("#FFFFFF"),t.intensity=.4;var n=new o.HemisphericLight("hemisphericLight2",new o.Vector3(1,-1,.4),this._scene);n.diffuse=o.Color3.FromHexString("#FFFFFF"),n.specular=o.Color3.FromHexString("#FFFFFF"),n.groundColor=o.Color3.FromHexString("#FFFFFF"),n.intensity=.3;var i=new o.ShadowGenerator(1024,e);i.usePoissonSampling=!0,i.forceBackFacesOnly=!0,i.blurKernel=32,i.useKernelBlur=!0,console.warn(i.bias),e.shadowMinZ=40,e.shadowMaxZ=100,this._light=e,this._lightPosition=e.position.clone();var r=o.MeshBuilder.CreateBox("box",{size:1},this._scene);r.parent=e,r.position.z=-3,a.default.on(a.default.ADD_SHADOW,function(e){e.receiveShadows=!0,i.getShadowMap().renderList.push(e)}),this.loadMesh()},e.prototype.lightMove=function(e,t){c.Tooler.animateVector3(this._scene,this._light,"position",t,this._light.position.clone(),new o.Vector3(this._light.position.x+e.x,this._light.position.y+e.y,this._light.position.z+e.z),null)},e.prototype.initControl=function(){var e=this;this._controller=new r.default(this._scene,this._canvas),a.default.on(a.default.ROLE_MOVE,function(t){e._role.moveTo(t),e.lightMove(e._role.getMoveOffset(),t.frame)}),a.default.on(a.default.GAME_START,function(t){e._role.reset(),e._cameraFollow.reset(),e._controller.reset(),a.default.emit(a.default.SHOW_LEADER,{}),e._light.position=e._lightPosition.clone()}),a.default.on(a.default.GAME_REVIVE,function(t){e._role.revive(),e._controller.revive()}),a.default.on(a.default.CHANGE_CAMERA,function(t){e._controller.setAutoCamera(t.auto),e._cameraFollow.autoView(t.auto),e._cameraFollow.setTarget(e._role.getPosition())}),a.default.on(a.default.MOVE_CAMERA,function(t){e._cameraFollow.move(t)})},e.prototype.loadMesh=function(){var e=this;this._role=new i.Role(this._scene,this._engine),this._role.loadMesh(),s.default.loadMesh(this._scene,function(){e.initControl()})},e.prototype.animate=function(){var e=this;this._engine.runRenderLoop(function(){e._cameraFollow&&e._cameraFollow.updateFrame(),e._scene.render()}),window.addEventListener("resize",function(){e._engine.resize()})},e}();t.Game=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),a=n(7),r=n(6),s=function(){function e(e,t){this._position=BABYLON.Vector3.Zero(),this._score=0,this._offsety=.32,this._scene=e,this._engine=t}return e.prototype.loadMesh=function(){var e=this;BABYLON.SceneLoader.ImportMesh("",r.default.PATH_ASSET+"mesh/","Lions.babylon",this._scene,function(t,n,a){t.forEach(function(e,t){e.receiveShadows=!0,o.default.emit(o.default.ADD_SHADOW,e),e.cullingStrategy=BABYLON.AbstractMesh.CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY}),a.forEach(function(e,t){}),o.default.emit(o.default.LOAD_MESH,null);e._mesh=new BABYLON.Mesh("mesh",e._scene),e._mesh.receiveShadows=!0,t[15].receiveShadows=!0,t[15].parent=e._mesh,e._scene.addMesh(e._mesh,!0),t[15].position.set(0,e._offsety,.5),e._skeletons=a,e.playAnimation("wait"),e._offsetPosition=i.Tooler.subPosition(e._mesh.position,e._scene.activeCamera.position)})},e.prototype.setColor=function(e,t){e.emissiveColor=BABYLON.Color3.FromHexString(t)},e.prototype.fall=function(){o.default.emit(o.default.ROLE_FALL,{}),i.Tooler.animateFloat(this._scene,this._mesh,"position.y",60,this._mesh.position.y,this._mesh.position.y-30,function(){}),setTimeout(function(){o.default.emit(o.default.ROLE_DIE,{})},300)},e.prototype.reset=function(){this._mesh.position.set(0,this._offsety,0),this._mesh.rotation.y=0,this._score=0,this._willDie=!1,this.playAnimation("wait")},e.prototype.revive=function(){this._mesh.position=this._lastPositon.clone()},e.prototype.playAnimation=function(e){var t=this;this._skeletons.forEach(function(n,o){var i=n.getAnimationRange(e);t._scene.beginAnimation(n,i.from,i.to,!0)})},e.prototype.moveTo=function(e){var t=this,n=e.position;this._score+=e.score,console.log(e.score,this._score),n.y=this._offsety,this._lastPositon=this._mesh.position.clone(),console.log("move action"),console.log(this._mesh.position.clone(),n),i.Tooler.animateVector3(this._scene,this._mesh,"position",e.frame,this._mesh.position.clone(),n,function(){0==e.score?t.fall():t.rotate(e.isLeft)}),this.playAnimation("walk"),this._ox=n.x-this._mesh.position.x,this._oz=n.z-this._mesh.position.z,o.default.emit(o.default.SOUND_PLAY,{key:a.default.WALK})},e.prototype.getMoveOffset=function(){return new BABYLON.Vector3(this._ox,0,this._oz)},e.prototype.rotate=function(e){var t=this,n=new BABYLON.Animation("animation","rotation.y",60,BABYLON.Animation.ANIMATIONTYPE_FLOAT),i=[];e?(i.push({frame:0,value:-Math.PI/2}),i.push({frame:12,value:0})):(i.push({frame:0,value:0}),i.push({frame:12,value:-Math.PI/2})),n.setKeys(i),this._scene.beginDirectAnimation(this._mesh,[n],0,12,!1,1,function(){t.playAnimation("wait"),o.default.emit(o.default.ROLE_WAIT,{})})},e.prototype.cameraFollow=function(e){var t=new BABYLON.Animation("animation","position",60,BABYLON.Animation.ANIMATIONTYPE_VECTOR3),n=new BABYLON.Vector3(this._scene.activeCamera.position.x+this._ox,this._scene.activeCamera.position.y+0,this._scene.activeCamera.position.z+this._oz),o=[];o.push({frame:0,value:this._scene.activeCamera.position}),o.push({frame:120,value:n}),t.setKeys(o),this._scene.activeCamera.animations=[t],this._scene.beginAnimation(this._scene.activeCamera,0,120,!1),this._position=this._mesh.position},e.prototype.getPosition=function(){return this._mesh?this._mesh.position:BABYLON.Vector3.Zero()},e}();t.Role=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),i=n(57),a=n(0),r=n(21),s=n(7),l=n(3),c=n(59),u=n(60),f=function(){function e(e,t){var n=this;this._guiderTimes=0,this._isLeft=!1,this._curPosition=null,this._nextPosition=null,this._barOffset=1.6,this._scoreSpace=.8,this._minDistance=10,this._maxDistance=30,this._looking=!1,this._lockState=0,this._scene=e,this._effect=new i.Effect(this._scene),this._sounds=new s.default(this._scene),this._container=new BABYLON.Mesh("container",this._scene),this._record=new u.Record(this._scene),this._plane=BABYLON.Mesh.CreatePlane("plane",1200,this._scene);var o=new BABYLON.StandardMaterial("mat",this._scene);o.ambientColor=BABYLON.Color3.FromHexString("#FFFFFF"),o.diffuseColor=BABYLON.Color3.FromHexString("#334455"),o.alpha=.4,o.freeze(),this._plane.material=o,this._plane.rotation.set(Math.PI/2,0,0),this._plane.position.y=-4.2,this._easingFunction=new BABYLON.CircleEase,this._easingFunction.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT),document.getElementById("renderCanvas").addEventListener("touchstart",function(e){e.preventDefault(),n._autoView||0==n._lockState&&(n._lockState=1,n._bar.startGrow(),n._sounds.play(s.default.GROW))}),document.getElementById("renderCanvas").addEventListener("touchend",function(e){e.preventDefault(),n._autoView||1==n._lockState&&(n._lockState=2,++n._guiderTimes,console.log("guider times: "+n._guiderTimes),n._sounds.stop(s.default.GROW),n._bar.stopGrow())}),a.default.on(a.default.ROLE_WAIT,function(e){n._isLeft=!n._isLeft,n._curPosition=n._nextPosition.clone(),n.createFloor(),n.cameraTarget(),n._lockState=0}),a.default.on(a.default.SOUND_PLAY,function(e){n._sounds.play(e.key)}),a.default.on(a.default.SOUND_STOP,function(e){n._sounds.stop(e.key)}),a.default.on(a.default.ROLE_DIE,function(e){n._sounds.play(s.default.DIE),a.default.emit(a.default.GAME_OVER,{})}),a.default.on(a.default.ROLE_FALL,function(e){n._bar.fall()}),a.default.on(a.default.STOP_GROW,function(e){n.stopGrow()}),a.default.on(a.default.SHOW_RECORD,function(e){n._record.show()}),a.default.on(a.default.HIDE_RECORD,function(e){n._record.hide()})}return e.prototype.setAutoCamera=function(e){this._autoView=e},e.prototype.cameraTarget=function(){a.default.emit(a.default.MOVE_CAMERA,{startRole:this._curPosition,endRole:this._nextPosition}),this.showGuider()},e.prototype.showGuider=function(){this._bar=c.default.getBar(this._scene);var e=this._curPosition.clone(),t=0;this._isLeft?(e.z-=.5,t=-Math.PI/2):(e.z-=.5,t=0),this._bar.guider(e,t,this._distance,this._guiderTimes<4)},e.prototype.stopGrow=function(){var e=this._scoreSpace,t=this._bar.getDistance()+o.Bar.barSpace,n=Math.abs(this._distance-t);console.log("d: "+this._distance,"h: "+t);var i=0,r=(i=n<e?4:n<2*e?3:n<3*e?2:n<4.8*e?1:0)?this._distance:t,s=this._curPosition.clone();this._isLeft?s.x-=r:s.z+=r;var l=r/10*40;a.default.emit(a.default.ROLE_MOVE,{position:s,score:i,frame:l,isLeft:this._isLeft}),a.default.emit(a.default.GAME_SCORE,{score:i}),a.default.emit(a.default.HIDE_LEADER,{}),console.log(this._scene.activeCamera),i>0&&this._effect.show(this._nextPosition)},e.prototype.revive=function(){this._lockState=0,this._bar.reset(),this.showGuider()},e.prototype.reset=function(){r.default.hideFloors(),c.default.hideBars(),this._plane.position.x=0,this._plane.position.z=0,this._guiderTimes=0,this._isLeft=!1,this._curPosition=null,this._nextPosition=null,this.createFloor(),this.createFloor(),this.cameraTarget(),this._lockState=0},e.prototype.createFloor=function(){var e=r.default.getFloor(this._scene);(this._distance=Math.floor(Math.random()*(this._maxDistance-this._minDistance))+this._minDistance,this._guiderTimes<4&&(this._distance=16),this._curPosition)?(this._nextPosition=this._curPosition.clone(),this._isLeft?(this._nextPosition.x-=this._distance,e.getChildMeshes()[1].rotation.y=Math.PI/2,this._plane.position.x-=this._distance):(this._nextPosition.z+=this._distance,e.getChildMeshes()[1].rotation.y=0,this._plane.position.z+=this._distance),l.Tooler.animateVector3(this._scene,e,"position",30,new BABYLON.Vector3(this._nextPosition.x,this._nextPosition.y-8,this._nextPosition.z),this._nextPosition.clone(),null).setEasingFunction(this._easingFunction)):(this._curPosition=BABYLON.Vector3.Zero(),e.position.set(this._curPosition.x,this._curPosition.y,this._curPosition.z),e.getChildMeshes()[1].rotation.y=Math.PI/2);return e},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=n(3),a=function(){function e(e){this._curHeight=0,this._add=.1,this._scene=e,this._line=this.createLines()}return e.prototype.getMesh=function(){return this._line},e.prototype.createLines=function(){var e=new o.StandardMaterial("mat",this._scene);e.emissiveColor=o.Color3.FromHexString("#FFFFFF"),e.freeze();for(var t=new o.Mesh("root",this._scene),n=0;n<6;n++){(s=o.MeshBuilder.CreateBox("box",{size:1,width:3,height:1,depth:1},this._scene)).parent=t,s.material=e;var a=5*Math.floor(n/2),r=n%2*80-1.2;s.position.set(a,r,0)}for(n=0;n<32;n++){var s;(s=o.MeshBuilder.CreateBox("box",{size:1,width:1,height:3,depth:1},this._scene)).parent=t,s.material=e;a=n%2*12-1,r=5*Math.floor(n/2);s.position.set(a,r,0)}this._scene.addMesh(t,!0),console.log(i.Tooler.getMeshSize(t));return t.scaling.set(2/13,2/13,2/13*.2),t},e.prototype.reset=function(){},e.prototype.setRotate=function(e){this._line.rotation.y=e},e.prototype.setPosition=function(e,t,n){0==this._line.rotation.y?this._line.position.set(e-.8,t,n+.5):this._line.position.set(e+.1,t,n-.3)},e.prototype.show=function(e,t){this._curHeight=e},e.prototype.hide=function(){this._line&&this._line.position.set(100,0,0)},e}();t.Draw=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(58),i=function(){function e(e){this._scene=e,this._root=new BABYLON.Mesh("root",this._scene)}return e.prototype.init=function(){this._list=[];for(var e=0;e<48;e++){var t=new o.default(this._scene);t.getMesh().parent=this._root,this._list.push(t)}},e.prototype.show=function(e){this._list||this.init(),this._list.forEach(function(e){e.play()}),this._root.position=e.clone()},e}();t.Effect=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=function(){function e(e){this._scene=e,this._box=BABYLON.MeshBuilder.CreateBox("box",{size:2},this._scene);var t=new BABYLON.StandardMaterial("mat",this._scene);t.diffuseColor=new BABYLON.Color3(Math.random(),1,Math.random()),this._box.material=t}return e.prototype.getMesh=function(){return this._box},e.prototype.play=function(){var t=3*Math.random()/4,n=24+Math.floor(8*Math.random()),i=(.5-Math.random())*e.space,a=(.5-Math.random())*e.space,r=(.5-Math.random())*e.space,s=new BABYLON.Vector3(i,a,r),l=o.Tooler.animateVector3(this._scene,this._box,"position",n,BABYLON.Vector3.Zero(),s,null),c=new BABYLON.BackEase;c.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEOUT),l.setEasingFunction(c),o.Tooler.animateVector3(this._scene,this._box,"scaling",n,new BABYLON.Vector3(t,t,t),BABYLON.Vector3.Zero(),null)},e.space=4,e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),i=function(){function e(){}return e.getBar=function(t){var n;return e.list.length>e.max&&(n=e.list.shift()),n||(n=new o.Bar(t)),n.reset(),e.list.push(n),n},e.hideBars=function(){e.list.forEach(function(e){e.hide()})},e.list=[],e.max=10,e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=function(){function e(e){this._scene=e}return e.prototype.init=function(){var e=BABYLON.Mesh.CreateBox("emitter0",.1,this._scene);e.isVisible=!1;var t=new BABYLON.ParticleSystem("particles",300,this._scene);t.particleTexture=new BABYLON.Texture(o.default.PATH_ASSET+"web/jinbi_6d1c782.png",this._scene),t.minAngularSpeed=-.9,t.maxAngularSpeed=.9,t.minSize=.4,t.maxSize=1.2,t.minLifeTime=.9,t.maxLifeTime=3.6,t.minEmitPower=2.4,t.maxEmitPower=8,t.emitter=e,t.emitRate=120,t.blendMode=BABYLON.ParticleSystem.BLENDMODE_STANDARD;t.minEmitBox=new BABYLON.Vector3(-1,-1,-1),t.maxEmitBox=new BABYLON.Vector3(1,1,1),t.direction1=new BABYLON.Vector3(-3,2,-3),t.direction2=new BABYLON.Vector3(3,2,3),t.color1=BABYLON.Color4.FromHexString("#FFEB3BFF"),t.color2=BABYLON.Color4.FromHexString("#ffffffff"),t.gravity=new BABYLON.Vector3(0,-120,0),console.log(t);var n=BABYLON.MeshBuilder.CreatePlane("plane",{size:100},this._scene),i=new BABYLON.StandardMaterial("mat",this._scene);i.ambientColor=BABYLON.Color3.FromHexString("#000000"),i.diffuseColor=BABYLON.Color3.FromHexString("#000000"),i.emissiveColor=BABYLON.Color3.FromHexString("#000000"),i.alpha=.32,n.material=i;this._scene.activeCamera;this._emitter=e,this._particleSystem=t,this._plane=n},e.prototype.show=function(){var e=this._scene.activeCamera;console.log(e.position),console.log(e.getTarget()),this._emitter.position=e.getTarget(),this._emitter.rotation=e.rotation,this._plane.position=e.getTarget(),this._plane.rotation=e.rotation,this._emitter.translate(new BABYLON.Vector3(0,0,1),10,BABYLON.Space.LOCAL),this._plane.translate(new BABYLON.Vector3(0,0,1),4,BABYLON.Space.LOCAL),this._emitter.setEnabled(!0),this._plane.setEnabled(!0),this._particleSystem.start()},e.prototype.hide=function(){this._emitter.setEnabled(!1),this._plane.setEnabled(!1),this._particleSystem.reset()},e}();t.Record=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=function(){function e(e,t){this._auto=!1,this._looking=!1,this.size=12,this._scene=e,this._canvas=t,this._position=new BABYLON.Vector3(50,50,-40),this._main=new BABYLON.TargetCamera("camera",this._position,this._scene),this._sub=new BABYLON.TargetCamera("camera",this._position,this._scene),this._arc=new BABYLON.ArcRotateCamera("Camera",3*Math.PI/2,Math.PI/4,30,BABYLON.Vector3.Zero(),this._scene),this._sub.position=this._position,this._target=BABYLON.Vector3.Zero(),this._main.setTarget(this._target),this._main.attachControl(this._canvas,!0),this._sub.attachControl(this._canvas,!0),this._arc.attachControl(this._canvas,!0),this._sub.setTarget(this._target),this._scene.activeCamera=this._main,this._main.mode=BABYLON.Camera.ORTHOGRAPHIC_CAMERA,this.scale(this.size)}return e.prototype.setTarget=function(e){this._activeCamera.setTarget(e)},e.prototype.scale=function(e){var t=e,n=window.innerHeight/window.innerWidth*t;this._main.orthoLeft=-t,this._main.orthoRight=t,this._main.orthoTop=n,this._main.orthoBottom=-n},e.prototype.reset=function(){this._scene.activeCamera=this._main,this._main.position=this._position},e.prototype.getAuto=function(){return this._auto},e.prototype.autoView=function(e){this._auto=e,this._scene.activeCamera=e?this._arc:this._main,this._scene.activeCamera.setTarget(this._target)},e.prototype.updateFrame=function(){this._looking&&(this._activeCamera.position=this.changingPosition.clone(),this._activeCamera.rotation=this.changingRotation.clone(),this.scale(this.size))},e.prototype.move=function(e){var t=this;this._target=o.Tooler.getCenterPosition(e.startRole,e.endRole),this._scene.activeCamera==this._main?(this._activeCamera=this._main,this._tempCamera=this._sub):(this._activeCamera=this._sub,this._tempCamera=this._main);var n=e.endRole.x-e.startRole.x+e.endRole.z-e.startRole.z,i=this._activeCamera.position.clone(),a=i.clone();a.x+=(e.endRole.x-e.startRole.x)/2,a.y=this._position.y,a.z+=(e.endRole.z-e.startRole.z)/2,this._tempCamera.position=a.clone(),this._tempCamera.setTarget(this._target);var r=this._activeCamera.rotation.clone(),s=this._tempCamera.rotation.clone();this.changingPosition=i,this.changingRotation=r;var l=.64*Math.abs(n);console.log("bs:"+this.size),console.log("缩放:"+l),l<10&&(l=10),this._looking=!0,o.Tooler.animateVector3(this._scene,this,"changingPosition",30,i,a,function(){t._looking=!1}),o.Tooler.animateVector3(this._scene,this,"changingRotation",30,r,s,function(){t._looking=!1}),o.Tooler.animateFloat(this._scene,this,"size",30,this.size,l,function(){t._looking=!1})},e.prototype.toggle=function(){this._scene.activeCamera==this._main?this._scene.activeCamera=this._sub:this._scene.activeCamera=this._main},e}();t.CameraFollow=i},function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=m(n(2)),a=m(n(23)),r=m(n(67)),s=m(n(0)),l=m(n(68)),c=(m(n(24)),m(n(69))),u=m(n(70)),f=m(n(71)),d=m(n(72)),h=m(n(73)),_=m(n(74));function m(e){return e&&e.__esModule?e:{default:e}}!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}console.log("不支持 CustomEvent"),e.prototype=window.Event.prototype,window.CustomEvent=e}();var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={auto:!1,show:!1,meshLoaded:0},n.toggleCamera=function(){n.setState({auto:!n.state.auto}),s.default.emit(s.default.CHANGE_CAMERA,{auto:!n.state.auto})},s.default.on(s.default.GAME_OVER,function(e){r.default.show(f.default)}),s.default.on(s.default.SHOW_SHARE,function(e){r.default.show(h.default)}),s.default.on(s.default.SHOW_GAME,function(e){n.setState({show:!0})}),s.default.on(s.default.LOAD_MESH,function(e){n.setState({meshLoaded:n.state.meshLoaded+1}),console.log("LOAD_MESH",n.state.meshLoaded),n.state.meshLoaded>=2&&r.default.stopLoad()}),s.default.on(s.default.POP_SHOW,function(e){console.log("pop: "+e.key),"start"==e.key?r.default.show(c.default):"score"==e.key?r.default.show(u.default):"revive"==e.key?r.default.show(d.default):"result"==e.key?r.default.show(Result):"reward"==e.key&&r.default.show(_.default)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){s.default.emit(s.default.INIT_GAME,{}),r.default.show(c.default),r.default.startLoad()}},{key:"render",value:function(){var e={opacity:this.state.show?1:0};return i.default.createElement("div",{style:e},i.default.createElement("div",{className:"game"},i.default.createElement("div",{className:["controll",this.state.auto?"auto":""].join(" "),onClick:this.toggleCamera}),i.default.createElement("canvas",{id:"renderCanvas"})),i.default.createElement(l.default,null))}}]),t}();a.default.render(i.default.createElement(p,null),document.getElementById("root"))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=r(n(23)),a=r(n(24));function r(e){return e&&e.__esModule?e:{default:e}}var s=null,l={show:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=document.body,r=document.createElement("div");r.setAttribute("class","modal"),r.style.zIndex=n,a.appendChild(r);var s=function(e){i.default.unmountComponentAtNode(r),a.removeChild(r),t&&t(e)};i.default.render(o.default.createElement(e,{onClose:s}),r)},startLoad:function(){var e=document.body,t=document.createElement("div");t.style.zIndex=120,e.appendChild(t),i.default.render(o.default.createElement(a.default,null),t),s=t},stopLoad:function(){i.default.unmountComponentAtNode(s),document.body.removeChild(s)}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(2)),a=(r(n(4)),r(n(0)));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={score:0,num:0,tip:"",key:"",show:!1,leader:!0},n.close=function(){n.props.onClose(0),a.default.emit(a.default.GAME_START,{}),a.default.emit(a.default.SHOW_GAME,{})},a.default.on(a.default.GAME_SCORE,function(e){n.addScore(e.score)}),a.default.on(a.default.GAME_START,function(e){n.setState({score:0,num:0,tip:"",key:"",show:!1,leader:!0})}),a.default.on(a.default.HIDE_LEADER,function(e){n.setState({leader:!1})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"addScore",value:function(e){var t=this,n="",o="";4==e?(n="wanmei",o="完美"):3==e?(n="youxiu",o="优秀"):2==e?(n="yiban",o="一般"):1==e&&(n="jige",o="及格"),n&&setTimeout(function(){t.setState({show:!1})},2400),this.setState({num:e,tip:o,score:this.state.score+e,key:n,show:!!n})}},{key:"render",value:function(){return i.default.createElement("div",{className:"InfoSkin"},i.default.createElement("div",{className:"userScore num"},this.state.score),this.state.leader&&i.default.createElement("div",{className:"leader"}),this.state.show&&i.default.createElement("div",{className:["scoreBox",this.state.key].join(" ")},i.default.createElement("div",{className:"scoreFrame"}),i.default.createElement("div",{className:"dom2_1"},i.default.createElement("div",{className:"scoreBg"}),i.default.createElement("div",{className:"scoreTip"},this.state.tip),i.default.createElement("div",{className:"scoreNum num"},"+",this.state.num))))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=s(n(2)),a=s(n(4)),r=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={rank:3,best:16},n.close=function(){n.props.onClose(0),r.default.emit(r.default.GAME_START,{}),r.default.emit(r.default.SHOW_GAME,{})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"StartSkin pages"},i.default.createElement("div",{className:"dom0"}),i.default.createElement("div",{className:"dom1",onClick:this.test},i.default.createElement("div",{className:"dom1_0"}),i.default.createElement("div",{className:"worldList"}),i.default.createElement("div",{className:"dom1_2"},"世界排名"),i.default.createElement("div",{className:"dom1_3"},"最佳成绩")),i.default.createElement("div",{className:"dom2"},i.default.createElement("div",{className:"dom2_0"}),i.default.createElement("div",{className:"dom2_1"},i.default.createElement("div",{className:"dom2_1_0"}),i.default.createElement("div",{className:"sendTip"},"每日1点发放奖金  更新榜单")),i.default.createElement("div",{className:"dom2_2"},i.default.createElement("div",{className:"dom2_2_0"}),i.default.createElement("div",{className:"myName one-line"},"jsz"),i.default.createElement("div",{className:"myRank"},"我的排名：",this.state.rank,"名"),i.default.createElement("div",{className:"myBest"},"最佳成绩：",this.state.best,"米"))),i.default.createElement("div",{className:"startBtn",onClick:this.close}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=s(n(2)),a=s(n(4)),r=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={num:1},n.close=function(){n.props.onClose(0),r.default.emit(r.default.POP_SHOW,{key:"score",data:{}})},n.help=function(){r.default.emit(r.default.SHOW_SHARE,{title:"我的桥才造了10米就塌了，求高手来帮我继续造~",desc:"每天搬砖造桥，连接整个世界",mask:"邀请好友接力",imgUrl:"http://yun.dui88.com/h5-mami/webgame/game/bridge/v1/assets/bridge-share.png",shareId:GAME.tool.createUUID(12),rankType:3,shareScore:10,shareRank:1,sharePrevail:50,shareSource:2})},n.again=function(){n.props.onClose(0),r.default.emit(r.default.GAME_START,{}),r.default.emit(r.default.SHOW_GAME,{})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"render",value:function(){var e={backgroundImage:"url("+window.CFG.headUrl+")"};return i.default.createElement("div",{className:"ScoreSkin pages"},i.default.createElement("div",{className:"dom1"},i.default.createElement("div",{className:"dom1_0"}),i.default.createElement("div",{className:"dom1_1"},i.default.createElement("div",{className:"taHeader",style:e}),i.default.createElement("div",{className:"taName one-line"},"jsz"),i.default.createElement("div",{className:"taScore num"},"100"),i.default.createElement("div",{className:"dom1_1_3"})),i.default.createElement("div",{className:"dom1_2"},i.default.createElement("div",{className:"dom1_2_0"}),i.default.createElement("div",{className:"dom1_2_1"},"本次得分已超越了90%的玩家")),i.default.createElement("div",{className:"dom1_3"},i.default.createElement("div",{className:"taScore0 num"},"4"),i.default.createElement("div",{className:"taScore1"},"今日全球排名"),i.default.createElement("div",{className:"taScore2 num"},"60"),i.default.createElement("div",{className:"taScore3"},"历史最佳成绩"),i.default.createElement("div",{className:"dom1_3_4"}))),i.default.createElement("div",{className:"dom2",onClick:this.help}),i.default.createElement("div",{className:"dom3",onClick:this.help}),i.default.createElement("div",{className:"dom4"},i.default.createElement("div",{className:"dom4_0"}),i.default.createElement("div",{className:"dom4_1"},"打败了90%的人，快邀请好友来挑战吧！")),i.default.createElement("div",{className:"dom5",onClick:this.again}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=s(n(2)),a=s(n(4)),r=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={num:1},n.skip=function(){n.props.onClose(0),r.default.emit(r.default.POP_SHOW,{key:"score",data:{}})},n.use=function(){n.props.onClose(0),r.default.emit(r.default.POP_SHOW,{key:"revive"})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"ResultSkin pages"},i.default.createElement("div",{className:"dom0"}),i.default.createElement("div",{className:"dom1",onClick:this.skip},"点击跳过"),i.default.createElement("div",{className:"dom2 num"},"215",i.default.createElement("span",{className:"small"},"米")),i.default.createElement("div",{className:"dom3"},i.default.createElement("div",{className:"tip"},"太棒了，全球排名第一")),i.default.createElement("div",{className:"dom4",onClick:this.use}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=s(n(2)),a=s(n(4)),r=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={num:1},n.close=function(){n.props.onClose(0),r.default.emit(r.default.POP_SHOW,{key:"score",data:{}})},n.revive=function(){n.props.onClose(0),r.default.emit(r.default.GAME_REVIVE,{})},n.invite=function(){r.default.emit(r.default.SHOW_SHARE,{title:"来趣晒搬砖造桥，连接整个世界~",desc:"求帮我点一下，获得复活币",mask:"获得复活币",imgUrl:"http://yun.dui88.com/h5-mami/webgame/game/bridge/v1/assets/bridge-share.png",shareId:GAME.tool.createUUID(12),rankType:1,shareScore:0,shareRank:0,sharePrevail:0,shareSource:3})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"ReviveSkin"},i.default.createElement("div",{className:"dom0"}),i.default.createElement("div",{className:"dom1",onClick:this.revive}),i.default.createElement("div",{className:"dom2",onClick:this.invite}),i.default.createElement("div",{className:"dom3"},i.default.createElement("div",{className:"dom3_0"}),i.default.createElement("div",{className:"dom3_1"},"目前拥有："),i.default.createElement("div",{className:"dom3_2"},"2（上限5个）")),i.default.createElement("div",{className:"dom4"},i.default.createElement("div",{className:"dom4_0"},"说明："),i.default.createElement("div",{className:"dom4_1"},"每天首次登陆立刻赠送1个。 邀请群友点入你的分享链接 可恢复1个")),i.default.createElement("div",{className:"dom5"}),i.default.createElement("div",{className:"dom6"},"复活币"),i.default.createElement("div",{className:"close",onClick:this.close}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(2)),a=r(n(4));r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={num:1},n.close=function(){n.props.onClose(0)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"ShareSkin"},i.default.createElement("div",{className:"dom0"},i.default.createElement("div",{className:"dom0_0"}),i.default.createElement("div",{className:"dom0_1"},"点击右上角选择分享到群或朋友圈"),i.default.createElement("div",{className:"dom0_2"},"让好友来挑战吧"),i.default.createElement("div",{className:"knowBtn",onClick:this.close})))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=r(n(2)),a=r(n(4));r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={num:1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"RewardSkin"},i.default.createElement("div",{className:"dom0"}),i.default.createElement("div",{className:"goodBtn",onClick:this.close}),i.default.createElement("div",{className:"dom2"},"获得排名奖金",i.default.createElement("span",{className:"red"},"100"),"金币"))}}]),t}();t.default=s}]);
//# sourceMappingURL=index.js.map